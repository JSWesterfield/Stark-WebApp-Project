@{
    ViewBag.Title = "Page Title";
    Layout = "~/Views/Shared/_LayoutThemed.cshtml";
}

<article class="article gradient-2">
    <h2 class="title container text-center">Admin Index Page</h2>
    <section>
        <div class="section-inner container text-center">
            <div class="row">
                <div class="col-md-10 col-sm-12 col-xs-12 col-md-push-1 col-sm-push-0 col-xs-push-0">
                    <h3 class="subtitle">Page Title</h3>
                    <div class="content" ng-controller="mainController as main">
                        <p> {{main.myMessage}}</p>
                        <button type="button" data-ng-click="main.render()">Change Message</button>
                    </div><!--//content-->
                </div>
            </div><!--//row-->
        </div>
    </section>
</article>


@section scripts{
    
    <script src="/Scripts/stark/services/stark.services.supportRequests.js"></script>

    <script type="text/javascript">
        (function () {
            "use strict";

            angular.module(APPNAME)
                .controller('mainController', MainController);

            MainController.$inject = ['$scope', '$baseController'];

            function MainController(
                $scope
                , $baseController) {

                var vm = this;

                $baseController.merge(vm, $baseController);

                vm.$scope = $scope;
                //vm.myMessage = "Angular is rendering on the page";        //Deleted the myMessage vm variable. 
                vm.render = _render;

                function _render() {     
                    vm.$log.log("Page started up.");
                    vm.SupportRequestServices.getById(_onSuccess, _onError); //call to AJAX script, define services(create this'service' function within the stark.services.supportRequests.js script, and $inject this service within the $baseecontroller.
                }

                function _onSuccess(response) {
                    vm.$log.log(response.items);
                }

                function _onError() {
                    vn.$log.log("An error occured");
                }
            }

        })();
    </script>
}
